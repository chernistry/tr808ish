<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>TR-808 Drum Machine</title>
  <link rel="stylesheet" href="/styles.css">
</head>
<body>
  <div id="app">
    <header role="banner">
      <div class="logo">TR-808</div>
      
      <div class="transport" role="group" aria-label="Transport controls">
        <div id="controls"></div>
      </div>
      
      <div class="control-group">
        <label for="bpm-slider">BPM</label>
        <div style="display: flex; align-items: center; gap: 8px;">
          <input type="range" id="bpm-slider" min="60" max="240" value="130" aria-label="Tempo">
          <span id="bpm-display" class="value-display" aria-live="polite">130</span>
        </div>
      </div>
      
      <div class="control-group">
        <label for="swing-slider">Swing</label>
        <div style="display: flex; align-items: center; gap: 8px;">
          <input type="range" id="swing-slider" min="0" max="75" value="0" aria-label="Swing amount">
          <span id="swing-display" class="value-display" aria-live="polite">0%</span>
        </div>
      </div>
      
      <button class="control-btn secondary" id="default-pattern-btn" aria-label="Load default pattern" title="Load default UK Garage pattern">
        Default
      </button>
      
      <button class="control-btn secondary" id="theme-toggle" aria-label="Toggle theme">
        üåô
      </button>
    </header>
    
    <main role="main">
      <section class="sequencer-section" aria-label="Step sequencer">
        <h2 class="section-title">Step Sequencer</h2>
        <div id="sequencer"></div>
      </section>
      
      <aside class="sidebar">
        <div class="panel" role="region" aria-label="Mixer">
          <h3 class="panel-title">Mixer</h3>
          <div class="mixer-strip" id="mixer"></div>
        </div>
        
        <div class="panel" role="region" aria-label="Info">
          <h3 class="panel-title">Info</h3>
          <div style="font-size: 12px; color: var(--color-text-secondary); line-height: 1.6;">
            <p><strong>12 Voices:</strong></p>
            <p style="font-size: 11px;">BD, SD, LT, MT, HT, RS<br>CP, CH, OH, CY, RD, CB</p>
            <p style="margin-top: 8px;"><strong>16 Steps</strong> per pattern</p>
            <p><strong>Auto-save</strong> to localStorage</p>
            <p style="margin-top: 8px;">Press <kbd>?</kbd> for shortcuts</p>
          </div>
        </div>
      </aside>
    </main>
    
    <footer role="contentinfo">
      <div class="status">
        <span id="status-text">Ready</span>
        <span>‚Ä¢</span>
        <span id="perf-text">FPS: --</span>
      </div>
      <button class="help-btn" id="help-btn" aria-label="Show keyboard shortcuts">
        Keyboard Shortcuts (?)
      </button>
    </footer>
  </div>
  
  <div class="help-overlay" id="help-overlay" role="dialog" aria-labelledby="help-title" aria-modal="true">
    <div class="help-content">
      <h2 id="help-title">Keyboard Shortcuts</h2>
      
      <h3>Transport</h3>
      <ul>
        <li><span>Play/Stop</span> <kbd>Space</kbd></li>
        <li><span>Increase BPM</span> <kbd>+</kbd></li>
        <li><span>Decrease BPM</span> <kbd>-</kbd></li>
      </ul>
      
      <h3>Navigation</h3>
      <ul>
        <li><span>Select voice 1-5</span> <kbd>1</kbd> - <kbd>5</kbd></li>
        <li><span>Toggle step</span> <kbd>Enter</kbd></li>
        <li><span>Next step</span> <kbd>‚Üí</kbd></li>
        <li><span>Previous step</span> <kbd>‚Üê</kbd></li>
      </ul>
      
      <h3>Other</h3>
      <ul>
        <li><span>Toggle theme</span> <kbd>T</kbd></li>
        <li><span>Load default pattern</span> <kbd>D</kbd></li>
        <li><span>Show help</span> <kbd>?</kbd></li>
        <li><span>Close help</span> <kbd>Esc</kbd></li>
      </ul>
      
      <button class="control-btn" onclick="document.getElementById('help-overlay').classList.remove('visible')" style="margin-top: 16px; width: 100%;">
        Close
      </button>
    </div>
  </div>
  
  <script type="module" src="/src/main.ts"></script>
</body>
</html>
