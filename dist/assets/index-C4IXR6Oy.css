:root{--color-bg-primary: #1a1a1a;--color-bg-secondary: #2a2a2a;--color-bg-tertiary: #333;--color-bg-elevated: #3a3a3a;--color-text-primary: #fff;--color-text-secondary: #aaa;--color-text-muted: #666;--color-accent: #ff6b35;--color-accent-hover: #ff8555;--color-accent-active: #ff4515;--color-success: #00ff00;--color-warning: #ffaa00;--color-danger: #ff3333;--color-border: #444;--color-border-focus: #ff6b35;--space-xs: 4px;--space-sm: 8px;--space-md: 16px;--space-lg: 24px;--space-xl: 32px;--font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;--font-size-xs: 11px;--font-size-sm: 12px;--font-size-md: 14px;--font-size-lg: 16px;--font-size-xl: 20px;--radius-sm: 2px;--radius-md: 4px;--radius-lg: 8px;--shadow-sm: 0 1px 2px rgba(0, 0, 0, .3);--shadow-md: 0 2px 8px rgba(0, 0, 0, .4);--shadow-lg: 0 4px 16px rgba(0, 0, 0, .5);--transition-fast: .1s ease;--transition-normal: .2s ease}[data-theme=light]{--color-bg-primary: #f5f5f5;--color-bg-secondary: #e5e5e5;--color-bg-tertiary: #d5d5d5;--color-bg-elevated: #fff;--color-text-primary: #1a1a1a;--color-text-secondary: #555;--color-text-muted: #999;--color-border: #ccc}*{margin:0;padding:0;box-sizing:border-box}body{font-family:var(--font-family);background:var(--color-bg-primary);color:var(--color-text-primary);font-size:var(--font-size-md);overflow-x:hidden}#app{display:flex;flex-direction:column;min-height:100vh}header{background:var(--color-bg-secondary);border-bottom:1px solid var(--color-border);padding:var(--space-md);display:flex;align-items:center;gap:var(--space-lg);flex-wrap:wrap}.logo{font-size:var(--font-size-xl);font-weight:700;color:var(--color-accent);margin-right:auto}.transport{display:flex;gap:var(--space-sm)}.control-group{display:flex;flex-direction:column;gap:var(--space-xs)}.control-group label{font-size:var(--font-size-xs);color:var(--color-text-secondary);text-transform:uppercase;letter-spacing:.5px}.control-btn{padding:var(--space-sm) var(--space-md);font-size:var(--font-size-md);background:var(--color-accent);border:none;color:#fff;cursor:pointer;border-radius:var(--radius-md);font-weight:600;transition:background var(--transition-fast);min-width:80px}.control-btn:hover:not(:disabled){background:var(--color-accent-hover)}.control-btn:disabled{opacity:.5;cursor:not-allowed}.control-btn.secondary{background:var(--color-bg-elevated);color:var(--color-text-primary);border:1px solid var(--color-border)}.control-btn.secondary:hover:not(:disabled){background:var(--color-bg-tertiary)}input[type=range]{width:120px;height:4px;background:var(--color-bg-tertiary);border-radius:var(--radius-sm);outline:none;-webkit-appearance:none}input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;width:16px;height:16px;background:var(--color-accent);border-radius:50%;cursor:pointer}input[type=range]::-moz-range-thumb{width:16px;height:16px;background:var(--color-accent);border-radius:50%;cursor:pointer;border:none}.value-display{font-size:var(--font-size-lg);font-weight:700;color:var(--color-accent);min-width:50px;text-align:center}.pattern-selector{display:flex;gap:var(--space-sm);align-items:center}.pattern-buttons{display:flex;gap:var(--space-xs)}.pattern-btn{width:36px;height:36px;padding:0;background:var(--color-bg-tertiary);border:2px solid var(--color-border);color:var(--color-text-primary);cursor:pointer;border-radius:var(--radius-sm);font-weight:700;font-size:var(--font-size-md);transition:all var(--transition-fast)}.pattern-btn:hover{background:var(--color-bg-elevated);border-color:var(--color-accent)}.pattern-btn.active{background:var(--color-accent);border-color:var(--color-accent);color:#fff}.pattern-actions{display:flex;gap:var(--space-xs)}.action-btn{width:32px;height:32px;padding:0;background:var(--color-bg-tertiary);border:1px solid var(--color-border);cursor:pointer;border-radius:var(--radius-sm);font-size:14px;transition:all var(--transition-fast)}.action-btn:hover{background:var(--color-bg-elevated);border-color:var(--color-accent)}main{flex:1;display:grid;grid-template-columns:1fr 300px;gap:var(--space-md);padding:var(--space-md)}.sequencer-section{background:var(--color-bg-secondary);border-radius:var(--radius-lg);padding:var(--space-lg);box-shadow:var(--shadow-md)}.section-title{font-size:var(--font-size-lg);font-weight:600;margin-bottom:var(--space-md);color:var(--color-text-primary);display:flex;align-items:center;gap:var(--space-sm)}.section-title:before{content:"";width:3px;height:20px;background:var(--color-accent);border-radius:var(--radius-sm)}#sequencer{display:flex;flex-direction:column;gap:var(--space-sm)}.sequencer-header{display:flex;gap:var(--space-xs);align-items:center;margin-bottom:var(--space-xs)}.instrument-spacer{width:50px}.step-index{width:40px;text-align:center;font-size:var(--font-size-xs);color:var(--color-text-muted);font-weight:600}.sequencer-row{display:flex;gap:var(--space-xs);align-items:center}.instrument-label{width:50px;font-weight:600;font-size:var(--font-size-sm);text-align:center;background:var(--color-bg-tertiary);padding:var(--space-xs);border-radius:var(--radius-sm);color:var(--color-text-primary);cursor:pointer;transition:all var(--transition-fast)}.instrument-label:hover{background:var(--color-accent);color:#fff}.step-button{width:40px;height:40px;border:2px solid var(--color-border);background:var(--color-bg-tertiary);cursor:pointer;transition:all var(--transition-fast);border-radius:var(--radius-sm);position:relative}.step-button:hover{background:var(--color-bg-elevated);border-color:var(--color-accent);transform:translateY(-1px)}.step-button.active{background:var(--color-accent);border-color:var(--color-accent);box-shadow:0 0 8px var(--color-accent)}.step-button.current{box-shadow:0 0 12px var(--color-success);border-color:var(--color-success)}.step-button.active.current{box-shadow:0 0 12px var(--color-success),0 0 8px var(--color-accent)}.step-button:focus-visible{outline:2px solid var(--color-border-focus);outline-offset:2px}.sidebar{display:flex;flex-direction:column;gap:var(--space-md);max-height:calc(100vh - 200px);overflow-y:auto}.panel{background:var(--color-bg-secondary);border-radius:var(--radius-lg);padding:var(--space-md);box-shadow:var(--shadow-md)}.panel-title{font-size:var(--font-size-md);font-weight:600;margin-bottom:var(--space-md);color:var(--color-text-secondary);text-transform:uppercase;letter-spacing:1px}.mixer-strip{display:flex;flex-direction:column;gap:var(--space-sm)}.voice-control{display:flex;align-items:center;gap:var(--space-sm);padding:var(--space-sm);background:var(--color-bg-tertiary);border-radius:var(--radius-md)}.voice-name{font-weight:600;min-width:30px;font-size:var(--font-size-sm)}.voice-control input[type=range]{flex:1;width:auto}.voice-level{font-size:var(--font-size-xs);color:var(--color-text-secondary);min-width:35px;text-align:right}.voice-params-panel{padding:var(--space-md)}.params-grid{display:flex;flex-direction:column;gap:var(--space-sm)}.param-control{display:flex;align-items:center;gap:var(--space-sm);padding:var(--space-xs);background:var(--color-bg-tertiary);border-radius:var(--radius-sm)}.param-control label{font-size:var(--font-size-xs);text-transform:capitalize;min-width:50px;color:var(--color-text-secondary)}.param-control input[type=range]{flex:1;width:auto}.param-value{font-size:var(--font-size-xs);font-weight:700;color:var(--color-accent);min-width:40px;text-align:right}footer{background:var(--color-bg-secondary);border-top:1px solid var(--color-border);padding:var(--space-sm) var(--space-md);display:flex;justify-content:space-between;align-items:center;font-size:var(--font-size-xs);color:var(--color-text-secondary)}.status{display:flex;gap:var(--space-md)}.help-btn{background:none;border:1px solid var(--color-border);color:var(--color-text-secondary);padding:var(--space-xs) var(--space-sm);border-radius:var(--radius-sm);cursor:pointer;font-size:var(--font-size-xs);transition:all var(--transition-fast)}.help-btn:hover{border-color:var(--color-accent);color:var(--color-accent)}.help-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:#000c;display:none;align-items:center;justify-content:center;z-index:1000}.help-overlay.visible{display:flex}.help-content{background:var(--color-bg-secondary);padding:var(--space-xl);border-radius:var(--radius-lg);max-width:600px;max-height:80vh;overflow-y:auto;box-shadow:var(--shadow-lg)}.help-content h2{margin-bottom:var(--space-md);color:var(--color-accent)}.help-content h3{margin-top:var(--space-md);margin-bottom:var(--space-sm);font-size:var(--font-size-md)}.help-content ul{list-style:none;padding:0}.help-content li{padding:var(--space-xs) 0;display:flex;justify-content:space-between;border-bottom:1px solid var(--color-border)}.help-content kbd{background:var(--color-bg-tertiary);padding:2px 6px;border-radius:var(--radius-sm);font-family:monospace;font-size:var(--font-size-xs)}@media(max-width:1024px){main{grid-template-columns:1fr}.sidebar{flex-direction:row;overflow-x:auto;max-height:none}.panel{min-width:250px}}@media(max-width:768px){header{flex-direction:column;align-items:stretch}.logo{margin-right:0;text-align:center}.transport{justify-content:center}.step-button{width:32px;height:32px}.instrument-label{width:40px;font-size:var(--font-size-xs)}}:focus-visible{outline:2px solid var(--color-border-focus);outline-offset:2px}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}
